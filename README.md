# README #

包含所有代码和设计图

### 目录说明 ###

* 设计图 : 包含3D模型 和 autocad零件图
* Mac App : 上位机程序，解析SVG，控制下位机
* Arduino App : 下位机，控制刀刀头移动


### module.cpp ###

* Motor 控制每一个轴的电机
* Laser 控制激光通断
* Joystick 接收摇杆的信号，手动控制电机移动




* 上位机下位机通信采用JDY-80蓝牙模块，Bluetooth 4.0, 无需配对，上位机查找到设备后，直接发送指令
* A4988驱动步进电机
* 考虑到功率不大，只需要S8550三极管 控制激光头和散热风扇通断。



### 计划实现 ###
* 解析SVG，画直线和折线（优先）
* 圆、椭圆
* 位图(256级别灰度) 处理图像，控制arduino逐行扫描，一次发送一行数据和方向，S形扫描

### 开发日志 ###
2017 
* 8.30  淘宝购买激光头、arduino板子、步进电机等
* 8.31  设计外壳，和组装方式，淘宝激光切割亚克力外壳(96元)
* 9.1   购买继电器、三极管等元件
* 9.2   编写驱动步进电机程序，接错线了，烧了两个A4988芯片。
* 9.4   亚克力外壳送到，开始组装外壳和滑轨，有一片亚克力开孔开错了位置，自己重新打孔。
* 9.5   极管到了，用三极管做开关，板载5V给激光头供电，arduino烧了。
* 9.6   继电器到了，用继电器做开关，板载5V给激光头供电，arduino+A4988烧了。激光头改成单独供电，正常。
* 9.7   等新的A4988芯片，今天写上位机程序，实现位图的解析。
* 9.9   A4988来了，控制电路部分基本完成，手动画了一个2.5厘米啊的正方形。
![2.5cm rectangle](/images/p1.JPG)
* 9.10  用L298N控制输出电压，控制激光头得功率，结果L298N一路输出有问题，5V的输入有将近2V的压降，花了很长时间才确定是模块本身的问题，该用另外一路输出就没有问题了。
* 9.11  继续写上位机位图解析，并控制下位机移动。

### 脑子进水 ###
* 焊板子翻过来后针脚记错了，烧了两个A4988驱动
* 激光头到了，可是太亮，不敢直接看，不好调焦，问了淘宝卖家，卖家说点根烟，激光照到烟雾上，可以清晰的看到焦点的位置。我又不抽烟，还能跑到公司楼下看看哪个大哥在抽烟，然后上去说：大哥，你先别动，我调个焦。后来跟我媳妇说别的事的时候，无意间问了句你知道LED怎么连么。她说不连上就行，我说那就烧了，得串个电阻。过了一个小时我突然意识到，对啊，激光头功率太大，串个电阻减小功率就不这么亮了。
* 把激光头和散热风扇两根电源绑在一起，为了测试分别是哪根，直接接到12V电源上，第一个测试的是风扇，转。又把激光头也接上试试，烧了.
* 不知道为什么...arduino板子烧了，还好用的是便宜的山寨板，不知道和这个有没有关系，明天把开关从三极管改成继电器试试吧
* 改了继电器了 还是又烧了一块板子 什么情况啊。。下回把激光改成单独供电
* 
* 
